@using Sitecore.Mvc
@using Sitecore.Mvc.Presentation
@using Spitfire.Navigation
@using Spitfire.SitecoreExtensions.Extensions

@model RenderingModel
@{
    var items = Model.Item.Axes.SelectItems("ancestor-or-self::*")
        .Reverse()
        .Skip(2)
        .Where(x => x.TemplateName != "Folder")
        .ToList()
        .AsSmartEnumerable();
}

<ul class="breadcrumb">
    @foreach (var bcItem in items)
    {
        <li class="@(bcItem.IsLast ? "active" : null)">
            @if (!bcItem.IsLast)
            {
                @:<a href="@bcItem.Value.Url()">
                }
            @Html.Sitecore().Field(Templates.Navigable.Fields.NavigationTitle.ToString(), bcItem.Value)
            @if (!bcItem.IsLast)
            {
                @:</a>
                }
        </li>
    }
</ul>